{% extends 'base.html' %}
{% block title %}Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold text-gray-700 mb-6">ğŸ“¦ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h1>

<div class="overflow-x-auto bg-white shadow rounded-xl">
    <table class="w-full table-auto text-center border-separate border-spacing-y-2">
        <thead class="bg-gray-100 text-gray-700">
            <tr>
                <th class="px-4 py-3">Ø§Ù„Ø§Ø³Ù…</th>
                <th class="px-4 py-3">Ø§Ù„Ø³Ø¹Ø±</th>
                <th class="px-4 py-3">Ø§Ù„ÙƒÙ…ÙŠØ©</th>
                <th class="px-4 py-3">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
            </tr>
        </thead>
        <tbody>
            {% for product in products %}
            <tr class="bg-gray-50 hover:bg-gray-100 transition">
                <td class="px-4 py-2 text-gray-800">{{ product.name }}</td>
                <td class="px-4 py-2 text-green-700 font-bold">{{ product.sell_price }}</td>
                <td class="px-4 py-2">{{ product.quantity }}</td>
                <td class="px-4 py-2">
                    <a href="{% url 'edit_product' product.id %}" class="text-blue-600 hover:underline">âœï¸ ØªØ¹Ø¯ÙŠÙ„</a>
                    |
                    <a href="{% url 'delete_product' product.id %}" class="text-red-600 hover:underline"
                        onclick="return confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ØŸ')">ğŸ—‘ï¸ Ø­Ø°Ù</a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4" class="text-gray-500 py-4">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- âœ… Pagination -->
<div class="flex justify-center items-center mt-6 gap-2 text-sm">
    {% if products.has_previous %}
    <a href="?page=1" class="px-3 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300">Ø§Ù„Ø£ÙˆÙ„Ù‰</a>
    <a href="?page={{ products.previous_page_number }}"
        class="px-3 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300">Ø§Ù„Ø³Ø§Ø¨Ù‚</a>
    {% endif %}

    <span class="px-4 py-1 bg-blue-600 text-white rounded">
        ØµÙØ­Ø© {{ products.number }} Ù…Ù† {{ products.paginator.num_pages }}
    </span>

    {% if products.has_next %}
    <a href="?page={{ products.next_page_number }}"
        class="px-3 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300">Ø§Ù„ØªØ§Ù„ÙŠ</a>
    <a href="?page={{ products.paginator.num_pages }}"
        class="px-3 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300">Ø§Ù„Ø£Ø®ÙŠØ±Ø©</a>
    {% endif %}
</div>


{% endblock %}